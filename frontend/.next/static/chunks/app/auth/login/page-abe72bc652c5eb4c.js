(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{1814:(e,t,r)=>{Promise.resolve().then(r.bind(r,7991))},7991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),i=r(2115),s=r(81),o=r(5695),l=r(9465),n=r(6874),c=r.n(n),d=r(4614);function u(){let[e,t]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[p,x]=(0,i.useState)(""),[f,w]=(0,i.useState)(""),b=(0,o.useRouter)(),{login:y,signInWithGoogle:j}=(0,l.A)(),v=async t=>{t.preventDefault(),m(!0),x(""),w("");try{await y(e,r),w("Login successful! Redirecting..."),setTimeout(()=>{b.push("/chat")},1500)}catch(e){console.error("Login error:",e),x(e.message||"Failed to login"),m(!1)}},F=async()=>{m(!0),x("");try{await j(),w("Login successful! Redirecting..."),setTimeout(()=>{b.push("/chat")},1500)}catch(e){console.error("Google login error:",e),x(e.message||"Failed to login with Google"),m(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#051A05] via-[#0A2A0A] to-[#051A05] flex items-center justify-center p-4",children:(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(c(),{href:"/",className:"inline-flex items-center space-x-2 mb-6 group",children:[(0,a.jsx)(s.P.div,{className:"w-10 h-10 rounded-lg overflow-hidden bg-white flex items-center justify-center border border-accent-cyan shadow-lg",whileHover:{scale:1.05},children:(0,a.jsx)("img",{src:"/images/20250709_145127_890.jpg",alt:"Supe AI Logo",className:"w-full h-full object-contain rounded-lg",style:{maxHeight:"2.5rem",background:"white"}})}),(0,a.jsx)("span",{className:"text-white font-bold text-2xl group-hover:text-[#00FFC2] transition-colors",children:"Supe AI"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Sign in to your Supe AI account"})]}),(0,a.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-black/30 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl p-8",children:[(0,a.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,a.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00FFC2] focus:border-transparent transition-all duration-300",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsx)("input",{id:"password",type:u?"text":"password",value:r,onChange:e=>n(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00FFC2] focus:border-transparent transition-all duration-300 pr-12",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",tabIndex:-1,onClick:()=>h(e=>!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-accent-cyan hover:text-[#00FFC2] focus:outline-none","aria-label":u?"Hide password":"Show password",children:u?(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,a.jsx)("ellipse",{cx:"12",cy:"12",rx:"7",ry:"5",strokeDasharray:"2 2"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"2.5",fill:"#00FFC2",stroke:"#00FFC2"}),(0,a.jsx)("path",{d:"M12 7V5M12 19v-2M7 12H5M19 12h-2M8.5 8.5l-1.5-1.5M15.5 15.5l1.5 1.5M8.5 15.5l-1.5 1.5M15.5 8.5l1.5-1.5",stroke:"#00FFC2",strokeWidth:"1.2"})]}):(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,a.jsx)("ellipse",{cx:"12",cy:"12",rx:"7",ry:"5"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"2.5",fill:"#00FFC2",stroke:"#00FFC2"}),(0,a.jsx)("path",{d:"M12 7V5M12 19v-2M7 12H5M19 12h-2M8.5 8.5l-1.5-1.5M15.5 15.5l1.5 1.5M8.5 15.5l-1.5 1.5M15.5 8.5l1.5-1.5",stroke:"#00FFC2",strokeWidth:"1.2"}),(0,a.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"4",stroke:"#00FFC2",strokeWidth:"1.2"})]})})]}),p&&(0,a.jsx)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 text-sm",children:p}),f&&(0,a.jsx)(s.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-green-500/20 border border-green-500/30 rounded-lg text-green-400 text-sm",children:f}),(0,a.jsx)(s.P.button,{type:"submit",disabled:g,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-[#00FFC2] to-[#00FFC2]/90 text-black font-semibold py-3 px-6 rounded-lg hover:from-[#00FFC2]/90 hover:to-[#00FFC2] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:g?"Signing In...":"Sign In"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-white/20"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-black/30 text-gray-400",children:"Or continue with"})})]}),(0,a.jsxs)(s.P.button,{onClick:F,disabled:g,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-white/10 border border-white/20 text-white font-semibold py-3 px-6 rounded-lg hover:bg-white/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,a.jsx)("span",{children:"Continue with Google"})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("p",{className:"text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)(c(),{href:"/auth/signup",className:"text-[#00FFC2] hover:text-[#00FFC2]/80 transition-colors font-medium",children:"Sign up"})]})})]})]})})]})}},9465:(e,t,r)=>{"use strict";let a,i,s;r.d(t,{A:()=>g,AuthProvider:()=>h});var o=r(5155),l=r(2115),n=r(3915),c=r(6203),d=r(9509);try{a=(0,n.Wp)({apiKey:"AIzaSyA40wiXOqkqSCpHrzhgjdKuO056G1yjIv0",authDomain:"supeai-6da3b.firebaseapp.com",databaseURL:"https://supeai-6da3b-default-rtdb.firebaseio.com",projectId:"supeai-6da3b",storageBucket:"supeai-6da3b.appspot.com",messagingSenderId:"114747954289",appId:"1:114747954289:web:e7d2f5d6f2c5c5c5c5c5c5"}),i=(0,c.xI)(a),s=new c.HF}catch(e){console.error("Firebase initialization error (non-critical):",e.message)}let u=(0,l.createContext)({});function h(e){let{children:t}=e,[r,a]=(0,l.useState)(null),[n,h]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(!i){console.warn("Auth not initialized, but continuing..."),h(!1);return}g();let e=i.onAuthStateChanged(e=>{e?a({...e,emailVerified:e.emailVerified}):a(null),h(!1)});return()=>e()},[]);let g=async()=>{try{let e=await fetch("/api/auth/session",{credentials:"include"}),t=await e.json();t.user?a(t.user):a(null)}catch(e){console.error("Session check error:",e),a(null)}h(!1)},m=async e=>{let t=null;try{t=await (0,c.eJ)(i,e.email,e.password),await (0,c.gA)(t.user);let r=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,firebaseUid:t.user.uid})});if(!r.ok){let e=await r.json();if(t&&t.user)try{await t.user.delete(),console.log("Firebase user deleted due to backend signup failure")}catch(e){console.error("Failed to delete Firebase user:",e)}throw Error(e.message||"Failed to sign up")}return{...await r.json(),verificationEmailSent:!0}}catch(e){if(console.error("Signup error:",e),"auth/email-already-in-use"===e.code)throw Error("This email is already registered. Please log in or use a different email.");if(t&&t.user&&"This email is already registered. Please log in or use a different email."!==e.message)try{await t.user.delete(),console.log("Firebase user cleaned up after signup error")}catch(e){console.error("Failed to delete Firebase user during cleanup:",e)}throw e}},p=async(e,t)=>{try{let r=await (0,c.x9)(i,e,t);if(!r.user.emailVerified)throw await (0,c.gA)(r.user),Error("Please verify your email address. A new verification email has been sent.");let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,firebaseUid:r.user.uid})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to login")}let o=await s.json();return a({...o.user,emailVerified:r.user.emailVerified}),o}catch(e){throw console.error("Login error:",e),e}},x=async()=>{try{let e=(await (0,c.df)(i,s)).user,t=await e.getIdToken(),r=d.env.NEXT_PUBLIC_BACKEND_URL||"https://backend-0dlk.onrender.com",a=await fetch("".concat(r,"/auth/google"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:t}),credentials:"include"});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to sign in with Google")}return await g(),!0}catch(e){throw console.error("Google sign-in error:",e),e}},f=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),await i.signOut(),a(null)}catch(e){throw console.error("Logout error:",e),e}},w=async()=>{if(!i.currentUser)throw Error("No user is currently signed in");await (0,c.gA)(i.currentUser)};return(0,o.jsx)(u.Provider,{value:{user:r,loading:n,signUp:m,login:p,signInWithGoogle:x,logout:f,resendVerificationEmail:w},children:!n&&t})}let g=()=>(0,l.useContext)(u)}},e=>{var t=t=>e(e.s=t);e.O(0,[811,81,874,853,614,441,684,358],()=>t(1814)),_N_E=e.O()}]);